<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Djasser â€” Trivia & Flashcards FOR YOU TEACHER</title>
<style>
/* ---------- ROOT & RESET ---------- */
:root{
  --bg1:#ffebcd;
  --bg2:#fff7e6;
  --accent:#ff6b6b;
  --accent2:#4f46e5;
  --card:#fff;
  --muted:#64748b;
  --glass: rgba(255,255,255,0.7);
  --radius:20px;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background: radial-gradient(circle at 10% 10%, #fffef8 0%, var(--bg1) 40%, var(--bg2) 100%);
  color:#0f172a;
  -webkit-font-smoothing:antialiased;
  padding:18px;
  direction:rtl;
}

/* ---------- HEADER ---------- */
.header{
  display:flex;
  gap:16px;
  align-items:center;
  justify-content:space-between;
  margin-bottom:18px;
}
.brand{
  display:flex;
  gap:12px;
  align-items:center;
}
.logo{
  width:68px;height:68px;border-radius:16px;
  background:linear-gradient(135deg,#ff8a65,#ff6b6b);
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 8px 30px rgba(79,70,229,0.12), inset 0 -6px 12px rgba(255,255,255,0.08);
  transform:rotate(-8deg);
}
.logo svg{width:44px;height:44px;filter: drop-shadow(0 6px 14px rgba(0,0,0,0.08))}
.title{
  font-size:1.6rem;font-weight:800;color:var(--accent2);
}
.subtitle{color:var(--muted);font-size:0.95rem}

/* ---------- NAV ---------- */
.nav{
  display:flex;gap:10px;align-items:center;
}
.tab{
  padding:10px 16px;border-radius:14px;background:var(--glass);
  border:1px solid rgba(15,23,42,0.04);cursor:pointer;font-weight:600;
  transition:all .22s;
}
.tab.active{
  background:linear-gradient(90deg,#6a5af9,#4f46e5);
  color:#fff;box-shadow:0 8px 30px rgba(79,70,229,0.15);
  transform:translateY(-4px);
}

/* ---------- LAYOUT ---------- */
.container{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap:20px;
  align-items:start;
  margin-top:12px;
}
@media (max-width:980px){
  .container{grid-template-columns:1fr; padding-bottom:60px}
}

/* ---------- MAIN CARD ---------- */
.panel{
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));
  padding:18px;border-radius:20px;box-shadow:0 12px 40px rgba(15,23,42,0.06);
  position:relative; overflow:hidden;
}
.panel h2{margin-bottom:10px;color:var(--accent2)}

/* ---------- QUESTION CARD (big) ---------- */
.qcard{
  background:var(--card); border-radius:18px; padding:22px;
  box-shadow:0 20px 40px rgba(12,18,44,0.06);
  display:flex; gap:18px; align-items:center;
  transition: transform .35s ease, box-shadow .35s;
}
.qcard:hover{ transform:translateY(-6px); box-shadow:0 26px 58px rgba(12,18,44,0.09) }
.qleft{flex:1}
.qmeta{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.qlevel{font-weight:700;color:var(--accent2)}
.qemoji{font-size:36px;margin-left:8px}
.qtext{font-size:1.25rem;font-weight:700;margin-bottom:12px}
.answers{display:flex;flex-wrap:wrap;gap:10px}
.choice{
  background:linear-gradient(180deg,#f8fafc,#ffffff); border-radius:14px;
  padding:10px 14px; cursor:pointer; min-width:140px; text-align:center;
  border:2px solid rgba(15,23,42,0.03); transition:transform .18s, box-shadow .18s, background .18s;
  font-weight:600;
}
.choice:hover{ transform:translateY(-4px); box-shadow:0 10px 24px rgba(79,70,229,0.08) }
.choice.correct{ background:linear-gradient(90deg,#a7f3d0,#06d6a0); color:#064e3b; border-color:rgba(6,214,160,0.12) }
.choice.wrong{ background:linear-gradient(90deg,#ffd6d6,#ff9a9a); color:#6b0b0b; border-color:rgba(239,71,111,0.12) }

/* ---------- RIGHT SIDEBAR ---------- */
.sidebar{
  position:sticky; top:24px;
}
.panel.small{padding:14px}
.score{
  background:linear-gradient(90deg,#ffd166,#ff6b6b);
  color:#fff;padding:12px;border-radius:14px;font-weight:800;text-align:center;
  box-shadow:0 8px 30px rgba(255,107,107,0.12);
}
.ladder{margin-top:12px;border-radius:12px;padding:8px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.4));}
.ladder .row{display:flex;justify-content:space-between;padding:8px 10px;border-radius:8px;margin-bottom:6px;font-weight:700}
.ladder .row.guarantee{background:linear-gradient(90deg,#e0f2fe,#bae6fd); color:#0f172a}

/* ---------- FLASH / CONFETTI layers ---------- */
.canvas{
  position:absolute; left:0; top:0; right:0; bottom:0; pointer-events:none;
}

/* ---------- FLASHCARD (small preview) ---------- */
.smallcard{
  background:linear-gradient(180deg,#ffffff,#fff8f0); border-radius:12px;padding:12px;text-align:center;
  box-shadow:0 10px 30px rgba(15,23,42,0.04); margin-top:12px;
}
.smallcard .txt{font-weight:700}

/* ---------- FOOTER ACTIONS ---------- */
.actions{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
.btn{
  padding:10px 14px;border-radius:12px;border:none;cursor:pointer;font-weight:700;
  transition:all .18s; box-shadow:0 8px 20px rgba(15,23,42,0.04);
}
.btn.primary{background:linear-gradient(90deg,#6a5af9,#4f46e5);color:#fff}
.btn.warn{background:linear-gradient(90deg,#ffd166,#ff6b6b);color:#111}
.btn.ghost{background:transparent;border:1px dashed rgba(15,23,42,0.08);color:var(--muted)}

/* ---------- MASCOT (SVG) ---------- */
.mascot{
  width:120px;height:120px;border-radius:16px;background:linear-gradient(180deg,#fff,#fff0);
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 10px 30px rgba(79,70,229,0.06);
}

/* ---------- ANIMATIONS ---------- */
@keyframes floaty {
  0%{ transform: translateY(0px)}
  50%{ transform: translateY(-8px)}
  100%{ transform: translateY(0px)}
}
.mascot{animation:floaty 3.6s ease-in-out infinite}

/* ---------- RESPONSIVE ---------- */
@media (max-width:600px){
  .qtext{font-size:1.05rem}
  .answers{justify-content:center}
  .container{grid-template-columns:1fr}
  .logo{transform:none}
}
</style>
</head>
<body>

<!-- CANVAS FOR PARTICLES -->
<canvas id="particles" class="canvas"></canvas>

<div class="header">
  <div class="brand">
    <div class="logo" title="Djasser">
      <!-- little rocket SVG -->
      <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <g fill="#fff">
          <path d="M12 52c0-7 12-20 36-24l-6 6 6 6c-15 2-36 12-36 12z" opacity="0.08"/>
          <path d="M38 8c4.5 4.5 6 10 6 10s-6 1.5-10 6c-3 3-5 7-6 10s-7-3-10-6C14.5 26 16 20 20.5 15.5 25 11 32 10 38 8z" fill="#fff"/>
        </g>
      </svg>
    </div>
    <div>
      <div class="title">Djasser Cartoon Trivia</div>
      <div class="subtitle">Ø£Ù„Ø¹Ø¨ ÙˆØªØ¹Ù„Ù‘Ù… â€” Ø£Ø³Ø¦Ù„Ø© Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ. :contentReference[oaicite:1]{index=1}</div>
    </div>
  </div>

  <div class="nav">
    <div class="tab active" data-tab="play">Ø§Ù„Ø¹Ø¨</div>
    <div class="tab" data-tab="flash">ÙÙ„Ø§Ø´ ÙƒØ§Ø±Ø¯</div>
    <div class="tab" data-tab="settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
  </div>
</div>

<div class="container">

  <!-- MAIN AREA -->
  <div class="panel" id="mainPanel">
    <h2 id="panelTitle">ğŸ¯ Ø³Ø¤Ø§Ù„ Ø§Ù„ÙŠÙˆÙ…</h2>

    <div class="qcard" id="qcard">
      <div class="qleft">
        <div class="qmeta">
          <div class="qlevel" id="qlevel">Ø³Ø¤Ø§Ù„ 1 / 15</div>
          <div class="qemoji" id="qemoji">ğŸ§ </div>
        </div>

        <div class="qtext" id="qtext">press start to show quistions</div>

        <div class="answers" id="answers"></div>

        <div class="actions">
          <button class="btn primary" id="startBtn">start game</button>
          <button class="btn ghost" id="quitBtn">restart</button>
          <button class="btn warn" id="skipBtn">skipe the same prise</button>
        </div>
      </div>

      <div style="width:160px;display:flex;flex-direction:column;align-items:center;">
        <div class="mascot" id="mascot">
          <!-- simple friendly mascot (SVG face) -->
          <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g1" x1="0" x2="1">
                <stop offset="0" stop-color="#ffd166"/><stop offset="1" stop-color="#ff6b6b"/>
              </linearGradient>
            </defs>
            <rect x="6" y="6" rx="16" width="108" height="108" fill="url(#g1)" opacity="0.95"/>
            <g transform="translate(18,30)">
              <circle cx="24" cy="18" r="8" fill="#fff"/>
              <circle cx="72" cy="18" r="8" fill="#fff"/>
              <ellipse cx="48" cy="60" rx="26" ry="12" fill="#fff"/>
              <circle cx="48" cy="54" r="6" fill="#ff6b6b"/>
            </g>
          </svg>
        </div>

        <div class="smallcard" style="width:140px">
          <div class="txt">your mony</div>
          <div style="font-size:1.1rem;font-weight:900;margin-top:6px" id="prizeDisplay">0$</div>
        </div>
      </div>
    </div>

    <!-- feedback area -->
    <div id="feedback" style="margin-top:12px;color:var(--muted)"></div>

  </div>

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="panel small">
      <div style="display:flex;align-items:center;justify-content:space-between">
        <div>
          <div style="font-size:0.9rem;color:var(--muted)">your score</div>
          <div class="score" id="scoreDisplay">0$</div>
        </div>
      </div>

      <div class="ladder" id="ladder">
        <!-- ladder rows will be injected -->
      </div>

      <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
        <button class="btn primary" id="showRules">the rulse</button>
        <button class="btn ghost" id="loadFromFile">Ø£Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</button>
      </div>
    </div>

    <div class="panel small" style="margin-top:12px;">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:800">Flashcards</div>
        <div style="color:var(--muted);font-size:0.9rem" id="cardsCount">0</div>
      </div>
      <div style="margin-top:10px">
        <button class="btn primary" id="openFlash">flash cards</button>
        <button class="btn ghost" id="shuffleFlashBtn">mix cards</button>
      </div>
    </div>
  </div>

</div>

<!-- FLASHCARDS PANEL (hidden, overlay style) -->
<div id="flashOverlay" style="position:fixed; inset:0;background:rgba(2,6,23,0.55); display:none;align-items:center;justify-content:center;z-index:40;">
  <div style="width:92%;max-width:720px;background:#fff;border-radius:18px;padding:18px;box-shadow:0 30px 80px rgba(2,6,23,0.6);">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <h3 style="margin:0;color:var(--accent2)">ğŸ§  Flashcards</h3>
      <div style="display:flex;gap:8px">
        <button class="btn ghost" id="closeFlash">close</button>
        <button class="btn primary" id="flipAll">flip</button>
      </div>
    </div>
    <div id="flashAreaLarge" style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center"></div>
  </div>
</div>

<script>
const triviaQuestions = [
{question:"What does corruption mean?",choices:["Honesty","Dishonesty","Friendship"],answer:1},
{question:"Bribery isâ€¦",choices:["Giving money illegally","Paying taxes","Helping the poor"],answer:0},
{question:"Embezzlement meansâ€¦",choices:["Stealing money you manage","Borrowing money","Donating money"],answer:0},
{question:"Counterfeit products areâ€¦",choices:["Original","Fake","Organic"],answer:1},
{question:"Fraud meansâ€¦",choices:["Truth","Cheating","Working hard"],answer:1},
{question:"Smuggling refers toâ€¦",choices:["Legal transport","Illegal transport","Air travel"],answer:1},
{question:"Illegal meansâ€¦",choices:["Allowed","Not allowed","Traditional"],answer:1},
{question:"A whistleblower isâ€¦",choices:["Works in a bank","Reports corruption","Sells goods"],answer:1},
{question:"Tax evasion meansâ€¦",choices:["Paying extra taxes","Avoiding paying taxes illegally","Studying taxes"],answer:1},
{question:"A bribe isâ€¦",choices:["A gift","Illegal money","A fine"],answer:1},
{question:"Nepotism means giving jobs toâ€¦",choices:["Best candidates","Strangers","Relatives"],answer:2},
{question:"Unethical meansâ€¦",choices:["Following rules","Not following moral rules","Being brave"],answer:1},
{question:"Opposite of honest?",choices:["dis-","un-","il-"],answer:0},
{question:"Counterfeiting money isâ€¦",choices:["Legal","Forging currency","Online banking"],answer:1},
{question:"Transparency meansâ€¦",choices:["Hiding facts","Being clear","Paying fines"],answer:1},
{question:"Kickback isâ€¦",choices:["A sport action","Illegal payment","A receipt"],answer:1},
{question:"Fake invoices areâ€¦",choices:["Correct bills","Incorrect documents","Free services"],answer:1},
{question:"A genuine product isâ€¦",choices:["Fake","Original","Cheap"],answer:1},
{question:"Piracy refers toâ€¦",choices:["Downloading legally","Stealing creative works","Sailing ships"],answer:1},
{question:"Deceive meansâ€¦",choices:["Protect","Lie","Fix"],answer:1},
{question:"Companies must followâ€¦",choices:["Weather rules","Code of ethics","Sport laws"],answer:1},
{question:"Severe laws areâ€¦",choices:["Very soft","Very strict","Very old"],answer:1},
{question:"Responsibility meansâ€¦",choices:["Duty","Luck","Confidence"],answer:0},
{question:"Money laundering meansâ€¦",choices:["Cleaning coins","Hiding illegal money","Donating money"],answer:1},
{question:"A moral action isâ€¦",choices:["Wrong","Ethical","Illegal"],answer:1},
{question:"Imitate meansâ€¦",choices:["Create","Copy","Destroy"],answer:1},
{question:"Deception meansâ€¦",choices:["Honesty","Cheating","Shopping"],answer:1},
{question:"A scandal isâ€¦",choices:["A secret","A shocking illegal event","A celebration"],answer:1},
{question:"Immoral meansâ€¦",choices:["Ethical","Not ethical","Beautiful"],answer:1},
{question:"A criminal organization isâ€¦",choices:["Legal business","Group committing crimes","School"],answer:1},
{question:"Forgery meansâ€¦",choices:["Fixing","Producing fake documents","Cleaning"],answer:1},
{question:"Favouritism is giving opportunities toâ€¦",choices:["Everyone","Only friends","Scientists"],answer:1},
{question:"Audit meansâ€¦",choices:["Check financial accounts","Plant trees","Sell products"],answer:0},
{question:"Consumers areâ€¦",choices:["Buyers","Sellers","Factories"],answer:0},
{question:"Products refer toâ€¦",choices:["People","Goods","Laws"],answer:1},
{question:"Companies aim to makeâ€¦",choices:["Profits","Weapons","Beaches"],answer:0},
{question:"A lobby is a group thatâ€¦",choices:["Influences decisions","Builds houses","Plays music"],answer:0},
{question:"Illegal trade meansâ€¦",choices:["Allowed business","Forbidden business","Small business"],answer:1},
{question:"Ethics refers toâ€¦",choices:["Bad actions","Moral principles","Fashion"],answer:1},
{question:"A fake brand isâ€¦",choices:["Original","Counterfeit","Expensive"],answer:1},
{question:"Child labour meansâ€¦",choices:["School","Children working illegally","Kids playing"],answer:1},
{question:"Stringent standards areâ€¦",choices:["Loose","Difficult and strict","Boring"],answer:1},
{question:"Property isâ€¦",choices:["Something you own","A feeling","A drink"],answer:0},
{question:"Speculators areâ€¦",choices:["Fight corruption","Trade for quick profit","Clean streets"],answer:1},
{question:"Hide meansâ€¦",choices:["Show","Conceal","Buy"],answer:1},
{question:"Disguise meansâ€¦",choices:["Reveal","Hide identity","Explain"],answer:1},
{question:"Goods areâ€¦",choices:["Products","Trees","Buildings"],answer:0},
{question:"Cheating customers isâ€¦",choices:["Ethical","Unethical","Helpful"],answer:1},
{question:"Laws are made toâ€¦",choices:["Confuse people","Protect society","Decorate cities"],answer:1},
{question:"Ill-gotten gains meanâ€¦",choices:["Money earned morally","Money earned illegally","Money from gifts"],answer:1}
];

// money ladder
const moneyLadder = [100,200,300,500,1000,2000,4000,8000,16000,32000,64000,125000,250000,500000,1000000];

/* ==========================================
   UI state
   ========================================== */
let selectedQuestions = [];
let currentIndex = 0;
let currentPrize = 0;
let score = 0;
let canAnswer = false;

/* ===== helpers ===== */
function $(id){ return document.getElementById(id) }
function rndShuffle(arr){ // Fisher-Yates
  let a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

/* ===== map tags to emoji ===== */
const tagEmoji = {
  ethics:'âš–ï¸', conditionals:'ğŸ”®', quantifiers:'ğŸ”¢', cause:'â¡ï¸',
  grammar:'âœï¸', vocab:'ğŸ“š', astronomy:'ğŸª', wish:'ğŸ˜”',
  advice:'ğŸ’¡', modals:'â“'
};

/* ===== build ladder UI ===== */
function renderLadder(){
  const container = $('ladder'); container.innerHTML='';
  for(let i=moneyLadder.length-1;i>=0;i--){
    const div = document.createElement('div');
    div.className='row' + ((i===4||i===9) ? ' guarantee' : '');
    div.innerHTML = `<div>#${i+1}</div><div style="font-weight:900">${moneyLadder[i].toLocaleString()}$</div>`;
    container.appendChild(div);
  }
}
renderLadder();

/* ===== render question ===== */
function renderQuestion(){
  canAnswer = true;
  const q = selectedQuestions[currentIndex];
  if(!q) return;
  $('qlevel').textContent = `Ø³Ø¤Ø§Ù„ ${currentIndex+1} / 15`;
  $('qemoji').textContent = tagEmoji[q.tag] || 'ğŸ§ ';
  $('qtext').textContent = q.question;
  const answers = $('answers'); answers.innerHTML='';
  q.choices.forEach((ch,idx)=>{
    const b = document.createElement('div');
    b.className='choice';
    b.textContent = ch;
    b.onclick = () => selectAnswer(idx,b);
    answers.appendChild(b);
  });
  // update displays
  $('prizeDisplay').textContent = (currentPrize ? currentPrize.toLocaleString() + '$' : 'â€”');
  $('scoreDisplay').textContent = (score? score.toLocaleString()+'$' : '0$');
  $('feedback').textContent = '';
}

/* ===== answer logic ===== */
function selectAnswer(idx,btnElement){
  if(!canAnswer) return;
  canAnswer = false;
  const q = selectedQuestions[currentIndex];
  const buttons = Array.from(document.querySelectorAll('.choice'));
  // show feedback
  if(idx === q.answer){
    // correct
    currentPrize = moneyLadder[currentIndex]; // prize for this level
    score = currentPrize;
    btnElement.classList.add('correct');
    playSound('win');
    showConfetti();
    $('feedback').textContent = `âœ… good answer you won ${currentPrize.toLocaleString()}$`;
  } else {
    btnElement.classList.add('wrong');
    // reveal correct
    buttons[q.answer].classList.add('correct');
    // fallback to nearest guarantee
    if(currentIndex >= 10) score = 32000;
    else if(currentIndex >= 5) score = 1000;
    else score = 0;
    playSound('lose');
    $('feedback').textContent = `âŒ Ø®Ø·Ø£! Ø¯ÙØ¹ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score.toLocaleString()}$ (Ø§Ù„Ø¶Ù…Ø§Ù† Ù…ÙØ¹Ù‘Ù„)`;
  }

  // update score display
  $('scoreDisplay').textContent = score ? score.toLocaleString()+'$' : '0$';
  $('prizeDisplay').textContent = (currentPrize ? currentPrize.toLocaleString()+'$' : 'â€”');

  // after small delay -> next question or finish
  setTimeout(()=>{
    currentIndex++;
    if(currentIndex < 15){
      renderQuestion();
    } else {
      // finish
      setTimeout(()=> {
        alert(`ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©!\nØ¬Ø§Ø¦Ø²ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score.toLocaleString()}$`);
        resetGame();
      }, 200);
    }
  }, 900);
}

/* ===== start / reset / skip ===== */
function startGame(){
  // pick 15 random questions from pool (or all if pool < 15)
  const pool = triviaQuestions;
  if(pool.length < 15){
    alert('Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ­ØªØ§Ø¬ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ 15 Ø³Ø¤Ø§Ù„Ø§Ù‹. Ø£Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø£Ùˆ Ø£Ø¶Ù Ø£Ø³Ø¦Ù„Ø©.');
    return;
  }
  selectedQuestions = rndShuffle(pool).slice(0,15);
  currentIndex = 0; currentPrize = 0; score = 0;
  $('startBtn').textContent = 'Ù‚ÙŠØ¯ Ø§Ù„Ù„Ø¹Ø¨...';
  $('startBtn').disabled = true;
  renderQuestion();
}
function resetGame(){
  $('startBtn').textContent = 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©';
  $('startBtn').disabled = false;
  selectedQuestions = [];
  currentIndex = 0;
  currentPrize = 0;
  score = 0;
  $('qtext').textContent = 'Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©" Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©';
  $('answers').innerHTML='';
  $('prizeDisplay').textContent = 'â€”';
  $('scoreDisplay').textContent = '0$';
  $('feedback').textContent = '';
}
function skipQuestion(){
  if(!selectedQuestions.length) return;
  // keep currentPrize unchanged (user chose to skip)
  currentIndex++;
  if(currentIndex < 15){
    renderQuestion();
  } else {
    alert(`Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©. Ø¬Ø§Ø¦Ø²ØªÙƒ: ${score.toLocaleString()}$`);
    resetGame();
  }
}

/* ===== flashcards UI ===== */
let flashcards = [
  { front:"Ill-gotten gains never prosper", back:"Ø§Ù„Ù…ÙƒØ§Ø³Ø¨ Ø§Ù„Ø­Ø±Ø§Ù… Ù„Ø§ ØªØ¯ÙˆÙ… â€” dishonest wealth doesn't last" },
  { front:"Honesty", back:"Being truthful and fair in all dealings â€” Ø§Ù„Ù†Ø²Ø§Ù‡Ø©" },
  { front:"Integrity", back:"Doing the right thing even when no one watches â€” Ø§Ù„Ù†Ø²Ø§Ù‡Ø©" },
  { front:"Crime doesn't pay", back:"Dishonest behavior leads to failure â€” Ø§Ù„Ø¬Ø±ÙŠÙ…Ø© Ù„Ø§ ØªÙÙŠØ¯" },
];
function openFlashOverlay(){
  const overlay = $('flashOverlay'); overlay.style.display='flex';
  const area = $('flashAreaLarge'); area.innerHTML='';
  flashcards.forEach((c,i)=>{
    const card = document.createElement('div');
    card.style.width='220px'; card.style.height='140px';
    card.style.borderRadius='14px'; card.style.boxShadow='0 8px 24px rgba(15,23,42,0.06)';
    card.style.background='#fff'; card.style.padding='12px';
    card.style.display='flex'; card.style.flexDirection='column'; card.style.justifyContent='center';
    card.style.cursor='pointer'; card.style.margin='6px';
    card.innerHTML = `<div style="font-weight:900;margin-bottom:6px">${c.front}</div><div style="color:${'#64748b'}">${c.back}</div>`;
    area.appendChild(card);
  });
}
function closeFlash(){ $('flashOverlay').style.display='none' }

/* ===== sounds (tiny WebAudio) ===== */
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playSound(name){
  if(!audioCtx) return;
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type = 'sine';
  if(name==='win'){
    o.frequency.value = 880;
    g.gain.value = 0.06;
    o.connect(g); g.connect(audioCtx.destination);
    o.start(); setTimeout(()=> { o.frequency.value = 660 }, 80);
    setTimeout(()=> { o.stop() }, 260);
  } else {
    o.frequency.value = 220;
    g.gain.value = 0.06;
    o.connect(g); g.connect(audioCtx.destination);
    o.start(); setTimeout(()=> { o.frequency.value = 180 }, 90);
    setTimeout(()=> { o.stop() }, 300);
  }
}

/* ===== confetti (simple particles) ===== */
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
let W=innerWidth, H=innerHeight;
canvas.width=W; canvas.height=H;
let particles = [];
function makeParticle(x,y){
  const c = ['#ffd166','#06d6a0','#ffd6d6','#4f46e5','#ff6b6b'];
  return {
    x,y, vx:(Math.random()-0.5)*6, vy: (Math.random()*-6)-2,
    r: 6 + Math.random()*6, col: c[Math.floor(Math.random()*c.length)], life: 80+Math.random()*60
  };
}
function showConfetti(){
  for(let i=0;i<40;i++) particles.push(makeParticle(W/2 + (Math.random()-0.5)*200, H/3 + 20));
}
function tickParticles(){
  ctx.clearRect(0,0,W,H);
  for(let i=particles.length-1;i>=0;i--){
    let p = particles[i];
    p.vy += 0.2; p.x += p.vx; p.y += p.vy; p.life--;
    ctx.fillStyle = p.col;
    ctx.fillRect(p.x, p.y, p.r, p.r*0.6);
    if(p.life<=0 || p.y>H) particles.splice(i,1);
  }
  requestAnimationFrame(tickParticles);
}
tickParticles();
window.addEventListener('resize', ()=>{ W=innerWidth; H=innerHeight; canvas.width=W; canvas.height=H; });

/* ===== event bindings ===== */
$('startBtn').addEventListener('click', (e)=>{ startGame(); });
$('quitBtn').addEventListener('click', (e)=>{ if(confirm('Ø¥restartØŸ')) resetGame(); });
$('skipBtn').addEventListener('click', (e)=>{ skipQuestion(); });
document.querySelectorAll('.tab').forEach(el=>{
  el.addEventListener('click', ()=> {
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    el.classList.add('active');
    const name = el.dataset.tab || el.textContent.trim();
    if(name==='play' || el.textContent.includes('Trivia')) {
      document.getElementById('mainPanel').scrollIntoView({behavior:'smooth'});
    } else if(el.dataset.tab === 'flash') {
      openFlashOverlay();
    } else {
      alert('Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª: ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø£Ùˆ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù„Ø§Ø­Ù‚Ù‹Ø§.');
    }
  });
});
$('openFlash').addEventListener('click', openFlashOverlay);
$('closeFlash').addEventListener('click', closeFlash);
$('flipAll').addEventListener('click', ()=>{ alert('Flip animation for cards â€” coming soon!') });
$('loadFromFile').addEventListener('click', ()=>{ alert('Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙÙˆØ¹ ÙØ¹Ù„ÙŠØ§Ù‹. Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù â€” Ø§Ø±ÙØ¹ Ù…Ù„ÙØ§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹ Ø£Ùˆ Ø£Ø¹Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©.'); });
$('showRules').addEventListener('click', ()=> {
  alert('Ù‚ÙˆØ§Ø¹Ø¯: 15 Ø³Ø¤Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ â€” ÙƒÙ„ Ø³Ø¤Ø§Ù„ ÙŠØ¹Ø·ÙŠ Ø¬Ø§Ø¦Ø²Ø© Ø­Ø³Ø¨ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø³Ø¤Ø§Ù„. Ø®Ø·Ø£ ÙŠÙ†ØªÙ‡ÙŠ ÙˆÙŠØ£Ø®Ø° Ø£Ù‚Ø±Ø¨ Ø¶Ù…Ø§Ù† (Ø³Ø¤Ø§Ù„ 5 Ùˆ 10). ÙŠÙ…ÙƒÙ†Ùƒ ØªØ®Ø·ÙŠ Ø³Ø¤Ø§Ù„ ÙˆØ§Ø­Ø¯ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ ØªØ®Ø·ÙŠ.');
});

/* init */
(function init(){
  // show first placeholder
  $('cardsCount').textContent = flashcards.length;
  renderLadder();
  resetGame();
})();
</script>

</body>
</html>

