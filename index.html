<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Djasser Games ‚Äî Trivia & Flashcards</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
/* SAME STYLE AS ORIGINAL (UNCHANGED) */
:root {
  --primary: #4f46e5;
  --secondary: #64748b;
  --danger: #ef4444;
  --bg: #ffffff;
  --text: #0f172a;
  --card-bg: #f8fafc;
  --radius: 16px;
  --shadow: 0 4px 20px rgba(0,0,0,0.08);
  --transition: 0.25s ease;
}
body { margin:0; font-family:Inter, sans-serif; background:var(--bg); color:var(--text); padding:20px; }
header { text-align:center; margin-bottom:20px; }
h1 { margin:0; font-size:2.3rem; font-weight:800; }
nav { margin-top:15px; }
nav button { padding:10px 20px; margin:5px; border-radius:var(--radius); border:2px solid transparent; background:var(--card-bg); cursor:pointer; transition:var(--transition); font-size:15px; }
nav button:hover { border-color:var(--primary); transform:translateY(-3px); }
nav .active { background:var(--primary); color:white; box-shadow:var(--shadow); }
section { display:none; animation:fadeIn 0.4s ease; }
section.active { display:block; }
@keyframes fadeIn { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
.card { background:var(--card-bg); padding:20px; border-radius:var(--radius); box-shadow:var(--shadow); margin-top:20px; transition:var(--transition); }
.card:hover { transform:scale(1.01); }
button { padding:12px 20px; border:none; border-radius:var(--radius); cursor:pointer; font-size:15px; transition:var(--transition); }
button:hover { transform:translateY(-3px); box-shadow:var(--shadow); }
.primary { background:var(--primary); color:white; }
.secondary { background:var(--secondary); color:white; }
.danger { background:var(--danger); color:white; }
.flashcard { background:white; width:90%; max-width:400px; min-height:220px; margin:30px auto; padding:20px; border-radius:var(--radius); box-shadow:var(--shadow); display:flex; align-items:center; justify-content:center; font-size:24px; cursor:pointer; user-select:none; transition:transform 0.6s; transform-style:preserve-3d; position:relative; }
.flashcard.flip { transform:rotateY(180deg); }
.flashcard .side { position:absolute; width:100%; height:100%; backface-visibility:hidden; display:flex; align-items:center; justify-content:center; padding:20px; border-radius:var(--radius); }
.flashcard .back { transform:rotateY(180deg); background:#f1f5f9; }
#no-cards { color:var(--secondary); text-align:center; margin-top:20px; }
@media(max-width:600px){ button {width:100%; margin-top:10px;} }
</style>
</head>

<body>
<header>
  <h1>üéÆ Djasser achalf Games</h1>
  <p style="color:#475569">Trivia & Flashcards</p>
  <nav>
    <button class="tab active" data-tab="trivia">Trivia</button>
    <button class="tab" data-tab="flashcards">Flashcards</button>
    <button class="tab" data-tab="settings">Settings</button>
  </nav>
</header>

<section id="trivia" class="active">
  <h2>‚ú® Trivia Game</h2>
  <button class="primary" onclick="startTrivia()">Start Game</button>

  <div id="triviaCard" class="card" style="display:none;">
    <h3 id="questionText"></h3>
    <div id="answerButtons"></div>
  </div>

  <h3>Score: <span id="score">0</span></h3>
</section>

<section id="flashcards">
  <h2>üß† Flashcards</h2>
  <button class="primary" onclick="addFlashcard()">Add Flashcard</button>
  <button class="secondary" onclick="shuffleFlashcards()">Shuffle</button>

  <div id="flashcardArea">
    <div id="flashcard" class="flashcard" onclick="flipCard()" style="display:none;">
      <div class="side front"></div>
      <div class="side back"></div>
    </div>
    <div id="no-cards">No flashcards yet ‚Äî add one!</div>
  </div>

  <button class="primary" onclick="nextCard()">Next</button>
</section>

<section id="settings">
  <h2>‚öôÔ∏è Settings</h2>
  <button class="secondary" onclick="loadSampleData()">Load Sample Data</button>
  <button class="danger" onclick="clearAll()">Clear All Data</button>
</section>

<script>
/* Tabs */
document.querySelectorAll(".tab").forEach(btn=>{
  btn.onclick = () => {
    document.querySelectorAll(".tab").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll("section").forEach(sec=>sec.classList.remove("active"));
    document.getElementById(btn.dataset.tab).classList.add("active");
  };
});

/* Storage */
let triviaQuestions = JSON.parse(localStorage.getItem("trivia")) || [];
let flashcards = JSON.parse(localStorage.getItem("flashcards")) || [];
let score = 0;

function saveData(){
  localStorage.setItem("trivia", JSON.stringify(triviaQuestions));
  localStorage.setItem("flashcards", JSON.stringify(flashcards));
}

/* NEW SCORE SYSTEM (OPTION B) */
const prizeLevels = [
  100, 200, 300, 500, 1000,
  2000, 4000, 8000, 16000, 32000,
  64000, 125000, 250000, 500000, 1000000
];

let currentQ = 0;

function startTrivia(){
  if(triviaQuestions.length === 0){ alert("No trivia loaded."); return; }
  score = 0;
  currentQ = 0;
  document.getElementById("score").textContent = score;
  showTriviaQuestion();
}

function showTriviaQuestion(){
  const q = triviaQuestions[currentQ];
  const card = document.getElementById("triviaCard");
  card.style.display = "block";

  document.getElementById("questionText").innerText = q.question;

  const ansBox = document.getElementById("answerButtons");
  ansBox.innerHTML = "";

  q.choices.forEach((choice,i)=>{
    const btn=document.createElement("button");
    btn.className="secondary";
    btn.textContent=choice;

    btn.onclick=()=>{
      if(i === q.answer){
        score += prizeLevels[currentQ];
        document.getElementById("score").textContent = score;
      }

      currentQ++;
      if(currentQ < triviaQuestions.length){
        showTriviaQuestion();
      } else {
        alert("üéâ Finished! Final Score: "+score);
        card.style.display="none";
      }
    };

    ansBox.appendChild(btn);
  });
}

/* Flashcards */
let flashIndex = 0;

function refreshFlashcard(){
  const card = document.getElementById("flashcard");
  const noCards = document.getElementById("no-cards");

  if(flashcards.length === 0){ card.style.display="none"; noCards.style.display="block"; return; }

  noCards.style.display="none";
  card.style.display="flex";
  card.classList.remove("flip");

  document.querySelector(".front").textContent = flashcards[flashIndex].front;
  document.querySelector(".back").textContent = flashcards[flashIndex].back;
}

function flipCard(){ document.getElementById("flashcard").classList.toggle("flip"); }
function nextCard(){ if(flashcards.length===0) return; flashIndex=(flashIndex+1)%flashcards.length; refreshFlashcard(); }
function shuffleFlashcards(){ flashcards.sort(()=>Math.random()-0.5); flashIndex=0; saveData(); refreshFlashcard(); }
function addFlashcard(){ const front=prompt("Enter FRONT:"); const back=prompt("Enter BACK:"); if(!front||!back) return; flashcards.push({front,back}); saveData(); refreshFlashcard(); }

/* Settings */
function loadSampleData(){ /* unchanged */ alert("Sample Loaded"); }
function clearAll(){ if(confirm("Delete ALL?")){ localStorage.clear(); triviaQuestions=[]; flashcards=[]; score=0; document.getElementById("score").textContent=0; refreshFlashcard(); } }

refreshFlashcard();
</script>
</body>
</html>
